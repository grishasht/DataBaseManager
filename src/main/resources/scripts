CREATE TABLE films
(
    FILM_NAME    VARCHAR(20) UNIQUE NOT NULL PRIMARY KEY,
    DURATION     integer            NOT NULL,
    COMPANY_NAME VARCHAR(20)        NOT NULL,
    AR           BOOLEAN            NOT NULL
);

CREATE TABLE actors
(
    ACTOR_NAME VARCHAR(20) NOT NULL,
    FILM_NAME  VARCHAR(20) NOT NULL REFERENCES films (FILM_NAME)
        ON UPDATE CASCADE
        ON DELETE CASCADE
);

CREATE TABLE companies
(
    COMPANY_NAME    VARCHAR(20) NOT NULL PRIMARY KEY,
    COUNTRY         VARCHAR(20) NOT NULL,
    FOUNDATION_YEAR INTEGER     NOT NULL
);

CREATE TABLE tickets
(
    OWNER_NAME   VARCHAR(20) UNIQUE NOT NULL PRIMARY KEY,
    FILM_NAME    VARCHAR(20)        NOT NULL,
    AGE_CATEGORY INTEGER            NOT NULL
);

CREATE TABLE seats
(
    SEAT_NUM   INTEGER     NOT NULL,
    OWNER_NAME VARCHAR(20) NOT NULL REFERENCES tickets (OWNER_NAME)
        ON UPDATE CASCADE
        ON DELETE CASCADE
);

ALTER TABLE films
    ADD COLUMN AR BOOLEAN NOT NULL;

ALTER TABLE films RENAME COLUMN DURATION TO RELEASE;

DROP TABLE actors;
DROP TABLE films;
DROP TABLE companies;
DROP TABLE tickets;
DROP TABLE seats;

SELECT *
FROM actors;
SELECT *
FROM films;
SELECT *
FROM seats;
SELECT *
FROM companies;
SELECT *
FROM tickets;